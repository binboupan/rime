<script>
    // http://localhost:8090/website/status?id=1
    let element_{{service.id}} = document.getElementById("website_{{service.id}}");
    async function pingService_{{service.id}}(){
        console.log("Pinging")
        try {
            const req = await fetch("http://localhost:8090/website/status?id={{service.id}}")

            if(req.status === 200){
                element_{{service.id}}.classList.remove("website-red");    
                element_{{service.id}}.classList.add("website-green");     

            } else{
                element_{{service.id}}.classList.remove("website-green");    
                element_{{service.id}}.classList.add("website-red");

            }
            console.log(req)
        } catch (error) {
            console.log(error)
            element_{{service.id}}.classList.add("website-red");
        }
    }

    console.log(element_{{service.id}})
    pingService_{{service.id}}()
    setInterval(pingService_{{service.id}}, {{service.plugin_config["interval"]*1000}})


    // element_{{service.id}}.classList.add("website-green");


    
</script>